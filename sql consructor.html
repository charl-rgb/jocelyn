<!doctype html>
<html class="no-js" lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>SQL Master - Aprende y Juega con Bases de Datos</title>
    <meta name="description" content="Plataforma interactiva para aprender SQL a trav√©s de juegos y ejercicios pr√°cticos">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="site.webmanifest">
    
    <!-- Favicon y iconos -->
    <link rel="icon" type="image/png" sizes="32x32" href="img\logo sql master-fotor-.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img\logo sql master-fotor-.png">
    <link rel="apple-touch-icon" href="img\logo sql master-fotor-.png">
    
    <!-- Fuentes y estilos -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,300i,400,500,600" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css">
    <style>
       :root {
   --primary-color: #5FA4AC;    
    --secondary-color: #CDC7BC; 
    --accent-color: #E9B4B4;     
    --light-color: #9AB3A2;      
    --dark-color: #386A70;          
}
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f5f7fa;
            color: #333;
        }
        
        .navbar {
            background-color: var(--secondary-color);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .navbar-brand img {
            height: 40px;
        }
        
        .nav-link {
            color: var(--light-color);
            font-weight: 500;
            margin: 0 10px;
        }
        
        .nav-link:hover {
            color: var(--primary-color);
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }
        
        .btn-primary:hover {
            background-color: #2980b9;
            border-color: #2980b9;
        }
        
        .hero-section {
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
            color: white;
            padding: 100px 0;
            position: relative;
            overflow: hidden;
        }
        
        .hero-section::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://images.unsplash.com/photo-1547658719-da2b51169166?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80');
            background-size: cover;
            opacity: 0.1;
        }
        
        .card {
            border: none;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
            margin-bottom: 20px;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-img-top {
            height: 180px;
            object-fit: cover;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
        }
        
        .server-status {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            margin-bottom: 20px;
        }
        
        .server-item {
            display: flex;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .server-item:last-child {
            border-bottom: none;
        }
        
        .server-status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        .online {
            background-color: #2ecc71;
        }
        
        .offline {
            background-color: #e74c3c;
        }
        
        .news-card {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            margin-bottom: 30px;
        }
        
        .news-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .hot {
            background-color: var(--accent-color);
            color: white;
        }
        
        .new {
            background-color: var(--primary-color);
            color: white;
        }
        
        footer {
            background-color: var(--secondary-color);
            color: white;
            padding: 50px 0 20px;
        }
        
        .social-icon {
            color: white;
            font-size: 20px;
            margin: 0 10px;
            transition: color 0.3s ease;
        }
        
        .social-icon:hover {
            color: var(--primary-color);
        }
        
        @media (max-width: 768px) {
            .hero-section {
                padding: 60px 0;
            }
            
            .hero-title {
                font-size: 28px;
            }
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container">
            <a class="navbar-brand" href="index.html" style="display: flex; align-items: center; gap: 10px; text-decoration: none;">
    <img 
        src="img\logo sql master-fotor-.png" 
        alt="SQL Master Logo" 
        style="width: 40px; height: 40px;"
    >
    <span style="font-weight: 700; font-size: 1.5rem; color: #2c3e50; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
        SQL Master
    </span>
</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="index.html">Inicio</a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Juegos SQL</a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="index.php">Contacto</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->





    <style>
        .sql-game-container * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .sql-game-container {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .sql-game-container .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .sql-game-container .header {
            text-align: center;
            margin-bottom: 20px;
        }

        .sql-game-container .header h1 {
            color: #333;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .sql-game-container .score-bar {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
            font-size: 1.1em;
            font-weight: bold;
            color: #333;
        }

        /* √Årea de pistas - ARRIBA */
        .sql-game-container .hints-area {
            background: linear-gradient(135deg, #ff9a56, #ffad56);
            color: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
        }

        .sql-game-container .hints-area h3 {
            font-size: 1.4em;
            margin-bottom: 10px;
        }

        .sql-game-container .hint-text {
            font-size: 1.1em;
            margin-bottom: 10px;
        }

        .sql-game-container .challenge-selector {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .sql-game-container .challenge-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }

        .sql-game-container .challenge-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .sql-game-container .challenge-btn.active {
            background: white;
            color: #ff9a56;
            font-weight: bold;
        }

        /* √Årea principal - CENTRO */
        .sql-game-container .main-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
            min-height: 400px;
        }

        /* Vista SQL - IZQUIERDA */
        .sql-game-container .sql-preview {
            background: #2d3748;
            border-radius: 15px;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }

        .sql-game-container .sql-preview h3 {
            color: #e2e8f0;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .sql-game-container .sql-output {
            background: #1a202c;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            line-height: 1.6;
            white-space: pre-wrap;
            flex-grow: 1;
            border: 2px solid #4a5568;
        }

        .sql-game-container .sql-keywords {
            color: #63b3ed;
            font-weight: bold;
        }

        .sql-game-container .sql-functions {
            color: #f6ad55;
        }

        .sql-game-container .sql-strings {
            color: #68d391;
        }

        /* √Årea de construcci√≥n - DERECHA */
        .sql-game-container .construction-area {
            background: #f8f9ff;
            border-radius: 15px;
            padding: 20px;
            border: 3px dashed #ddd;
            display: flex;
            flex-direction: column;
        }

        .sql-game-container .construction-area h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.3em;
            text-align: center;
        }

        .sql-game-container .drop-zones-container {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .sql-game-container .drop-zone {
            min-height: 60px;
            border: 2px dashed #ccc;
            border-radius: 10px;
            padding: 15px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-style: italic;
            position: relative;
        }

        .sql-game-container .drop-zone.drag-over {
            border-color: #4facfe;
            background: rgba(79, 172, 254, 0.1);
            color: #4facfe;
            transform: scale(1.02);
        }

        .sql-game-container .drop-zone.filled {
            border-style: solid;
            border-color: #28a745;
            background: rgba(40, 167, 69, 0.1);
            font-style: normal;
        }

        .sql-game-container .constructed-block {
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 12px 20px;
            border-radius: 10px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            width: 100%;
        }

        .sql-game-container .remove-btn {
            background: rgba(255, 255, 255, 0.3);
            border: none;
            color: white;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            cursor: pointer;
            font-weight: bold;
            font-size: 12px;
            transition: all 0.2s ease;
        }

        .sql-game-container .remove-btn:hover {
            background: rgba(255, 0, 0, 0.7);
            transform: scale(1.1);
        }

        /* Bloques disponibles - ABAJO HORIZONTAL */
        .sql-game-container .blocks-panel {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .sql-game-container .blocks-panel h3 {
            color: white;
            margin-bottom: 15px;
            font-size: 1.3em;
            text-align: center;
        }

        .sql-game-container .blocks-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .sql-game-container .sql-block {
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 12px 20px;
            border-radius: 10px;
            cursor: grab;
            user-select: none;
            font-weight: bold;
            font-size: 14px;
            text-align: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            border: 2px solid transparent;
            min-width: 80px;
        }

        .sql-game-container .sql-block:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }

        .sql-game-container .sql-block:active {
            cursor: grabbing;
            transform: scale(0.95);
        }

        .sql-game-container .sql-block.select { background: linear-gradient(45deg, #ff6b6b, #ff8e8e); }
        .sql-game-container .sql-block.from { background: linear-gradient(45deg, #4ecdc4, #44a08d); }
        .sql-game-container .sql-block.where { background: linear-gradient(45deg, #ffeaa7, #fdcb6e); color: #333; }
        .sql-game-container .sql-block.join { background: linear-gradient(45deg, #a29bfe, #6c5ce7); }
        .sql-game-container .sql-block.order { background: linear-gradient(45deg, #fd79a8, #e84393); }
        .sql-game-container .sql-block.group { background: linear-gradient(45deg, #00cec9, #00b894); }
        .sql-game-container .sql-block.having { background: linear-gradient(45deg, #fab1a0, #e17055); }

        /* Controles y feedback */
        .sql-game-container .controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 20px;
        }

        .sql-game-container .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .sql-game-container .btn-primary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }

        .sql-game-container .btn-secondary {
            background: linear-gradient(45deg, #f093fb, #f5576c);
            color: white;
        }

        .sql-game-container .btn-success {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            color: white;
        }

        .sql-game-container .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        .sql-game-container .feedback {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            margin-top: 10px;
        }

        .sql-game-container .feedback.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .sql-game-container .feedback.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .sql-game-container .feedback.warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .sql-game-container .step-indicator {
            position: absolute;
            left: -10px;
            top: 50%;
            transform: translateY(-50%);
            background: #667eea;
            color: white;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        @media (max-width: 1024px) {
            .sql-game-container .main-area {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .sql-game-container .blocks-container {
                gap: 10px;
            }
            
            .sql-game-container .sql-block {
                min-width: 70px;
                padding: 10px 15px;
                font-size: 12px;
            }
        }

        @media (max-width: 768px) {
            .sql-game-container .container {
                padding: 15px;
            }
            
            .sql-game-container .header h1 {
                font-size: 2em;
            }
            
            .sql-game-container .score-bar {
                flex-direction: column;
                gap: 10px;
            }
            
            .sql-game-container .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .sql-game-container .btn {
                width: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="sql-game-container">
        <div class="container">
            <div class="header">
                <h1>üß© SQL Constructor</h1>
            </div>

            <div class="score-bar">
                <div>Puntuaci√≥n: <span id="score">0</span></div>
                <div>Nivel: <span id="level">1</span></div>
                <div>Progreso: <span id="progress">0/5</span></div>
            </div>

            <!-- PISTAS - ARRIBA -->
            <div class="hints-area">
                <h3>üéØ Desaf√≠o Actual</h3>
                <div class="hint-text" id="currentHint">Construye una consulta b√°sica: SELECT * FROM usuarios</div>
                <div class="challenge-selector">
                    <button class="challenge-btn active" onclick="setChallenge(1)">Nivel 1</button>
                    <button class="challenge-btn" onclick="setChallenge(2)">Nivel 2</button>
                    <button class="challenge-btn" onclick="setChallenge(3)">Nivel 3</button>
                    <button class="challenge-btn" onclick="setChallenge(4)">Nivel 4</button>
                    <button class="challenge-btn" onclick="setChallenge(5)">Nivel 5</button>
                </div>
            </div>

            <!-- √ÅREA PRINCIPAL - CENTRO -->
            <div class="main-area">
                <!-- VISTA SQL - IZQUIERDA -->
                <div class="sql-preview">
                    <h3>üìã Vista SQL</h3>
                    <div class="sql-output" id="sqlOutput">-- Tu consulta SQL aparecer√° aqu√≠ --
-- Arrastra los bloques a la derecha para construir tu consulta</div>
                </div>

                <!-- CONSTRUCCI√ìN - DERECHA -->
                <div class="construction-area">
                    <h3>üî® Construye tu Consulta</h3>
                    <div class="drop-zones-container" id="constructionZone">
                        <div class="drop-zone" data-position="0">
                            <div class="step-indicator">1</div>
                            Arrastra aqu√≠ tu primer bloque SQL
                        </div>
                    </div>
                </div>
            </div>

            <!-- BLOQUES DISPONIBLES - ABAJO HORIZONTAL -->
            <div class="blocks-panel">
                <h3>üì¶ Bloques SQL Disponibles</h3>
                <div class="blocks-container" id="blocksContainer">
                    <div class="sql-block select" draggable="true" data-type="SELECT">SELECT</div>
                    <div class="sql-block from" draggable="true" data-type="FROM">FROM</div>
                    <div class="sql-block where" draggable="true" data-type="WHERE">WHERE</div>
                    <div class="sql-block join" draggable="true" data-type="JOIN">JOIN</div>
                    <div class="sql-block order" draggable="true" data-type="ORDER BY">ORDER BY</div>
                    <div class="sql-block group" draggable="true" data-type="GROUP BY">GROUP BY</div>
                    <div class="sql-block having" draggable="true" data-type="HAVING">HAVING</div>
                </div>
            </div>

            <div class="controls">
                <button class="btn btn-primary" onclick="validateQuery()">‚úÖ Validar Consulta</button>
                <button class="btn btn-secondary" onclick="clearQuery()">üóëÔ∏è Limpiar Todo</button>
                <button class="btn btn-success" onclick="showHint()">üí° Pista</button>
            </div>

            <div id="feedback"></div>
        </div>

        <script>
            let gameState = {
                constructedQuery: [],
                score: 0,
                level: 1,
                currentChallenge: 1,
                completedChallenges: []
            };

            const challenges = {
                1: {
                    title: "Consulta B√°sica",
                    hint: "Construye una consulta b√°sica: SELECT * FROM usuarios",
                    description: "Selecciona todos los datos de la tabla usuarios",
                    expected: ["SELECT", "FROM"],
                    tables: ["usuarios"],
                    columns: ["*"],
                    sqlTemplate: "SELECT * FROM usuarios"
                },
                2: {
                    title: "Filtrado con WHERE",
                    hint: "Agrega un filtro: SELECT * FROM usuarios WHERE edad > 25",
                    description: "Selecciona usuarios mayores de 25 a√±os",
                    expected: ["SELECT", "FROM", "WHERE"],
                    tables: ["usuarios"],
                    columns: ["*"],
                    sqlTemplate: "SELECT * FROM usuarios WHERE edad > 25"
                },
                3: {
                    title: "Ordenamiento",
                    hint: "Ordena los resultados: SELECT * FROM usuarios ORDER BY nombre",
                    description: "Selecciona usuarios ordenados por nombre",
                    expected: ["SELECT", "FROM", "ORDER BY"],
                    tables: ["usuarios"],
                    columns: ["*"],
                    sqlTemplate: "SELECT * FROM usuarios ORDER BY nombre"
                },
                4: {
                    title: "Join entre tablas",
                    hint: "Une tablas: SELECT * FROM usuarios JOIN pedidos ON usuarios.id = pedidos.usuario_id",
                    description: "Combina usuarios con sus pedidos",
                    expected: ["SELECT", "FROM", "JOIN"],
                    tables: ["usuarios", "pedidos"],
                    columns: ["*"],
                    sqlTemplate: "SELECT * FROM usuarios JOIN pedidos ON usuarios.id = pedidos.usuario_id"
                },
                5: {
                    title: "Agrupaci√≥n",
                    hint: "Agrupa datos: SELECT ciudad, COUNT(*) FROM usuarios GROUP BY ciudad",
                    description: "Cuenta usuarios por ciudad",
                    expected: ["SELECT", "FROM", "GROUP BY"],
                    tables: ["usuarios"],
                    columns: ["ciudad", "COUNT(*)"],
                    sqlTemplate: "SELECT ciudad, COUNT(*) FROM usuarios GROUP BY ciudad"
                }
            };

            // Drag and Drop functionality
            document.addEventListener('DOMContentLoaded', function() {
                initializeDragAndDrop();
                updateDisplay();
                updateCurrentHint();
            });

            function initializeDragAndDrop() {
                const blocks = document.querySelectorAll('.sql-block');
                const dropZones = document.querySelectorAll('.drop-zone');

                blocks.forEach(block => {
                    block.addEventListener('dragstart', handleDragStart);
                    block.addEventListener('dragend', handleDragEnd);
                });

                dropZones.forEach(zone => {
                    zone.addEventListener('dragover', handleDragOver);
                    zone.addEventListener('drop', handleDrop);
                    zone.addEventListener('dragenter', handleDragEnter);
                    zone.addEventListener('dragleave', handleDragLeave);
                });
            }

            function handleDragStart(e) {
                e.dataTransfer.setData('text/plain', e.target.dataset.type);
                e.target.style.opacity = '0.5';
            }

            function handleDragEnd(e) {
                e.target.style.opacity = '1';
            }

            function handleDragOver(e) {
                e.preventDefault();
            }

            function handleDragEnter(e) {
                e.preventDefault();
                if (e.target.classList.contains('drop-zone') && !e.target.classList.contains('filled')) {
                    e.target.classList.add('drag-over');
                }
            }

            function handleDragLeave(e) {
                if (e.target.classList.contains('drop-zone')) {
                    e.target.classList.remove('drag-over');
                }
            }

            function handleDrop(e) {
                e.preventDefault();
                e.target.classList.remove('drag-over');
                
                if (e.target.classList.contains('filled')) {
                    return;
                }

                const blockType = e.dataTransfer.getData('text/plain');
                const position = parseInt(e.target.dataset.position);
                
                addBlockToConstruction(blockType, position);
            }

            function addBlockToConstruction(blockType, position) {
                gameState.constructedQuery[position] = blockType;
                updateConstructionArea();
                generateSQL();
            }

            function updateConstructionArea() {
                const constructionZone = document.getElementById('constructionZone');
                constructionZone.innerHTML = '';

                // Show existing blocks
                gameState.constructedQuery.forEach((block, index) => {
                    if (block) {
                        const blockElement = document.createElement('div');
                        blockElement.className = 'drop-zone filled';
                        blockElement.innerHTML = `
                            <div class="step-indicator">${index + 1}</div>
                            <div class="constructed-block">
                                <span>${block}</span>
                                <button class="remove-btn" onclick="removeBlock(${index})" title="Eliminar bloque">√ó</button>
                            </div>
                        `;
                        constructionZone.appendChild(blockElement);
                    }
                });

                // Add next drop zone
                const nextPosition = gameState.constructedQuery.filter(b => b).length;
                const dropZone = document.createElement('div');
                dropZone.className = 'drop-zone';
                dropZone.dataset.position = nextPosition;
                dropZone.innerHTML = `
                    <div class="step-indicator">${nextPosition + 1}</div>
                    ${nextPosition === 0 ? 'Arrastra aqu√≠ tu primer bloque SQL' : 'Arrastra aqu√≠ el siguiente bloque'}
                `;
                constructionZone.appendChild(dropZone);

                // Re-initialize drag and drop for new elements
                initializeDragAndDrop();
            }

            function removeBlock(index) {
                gameState.constructedQuery.splice(index, 1);
                updateConstructionArea();
                generateSQL();
            }

            function generateSQL() {
                const query = gameState.constructedQuery.filter(block => block);
                let sql = '';

                if (query.length > 0) {
                    const challenge = challenges[gameState.currentChallenge];
                    
                    query.forEach((block, index) => {
                        switch(block) {
                            case 'SELECT':
                                sql += '<span class="sql-keywords">SELECT</span> ' + (challenge.columns ? challenge.columns.join(', ') : '*');
                                break;
                            case 'FROM':
                                sql += '\n<span class="sql-keywords">FROM</span> ' + (challenge.tables ? challenge.tables[0] : 'tabla');
                                break;
                            case 'WHERE':
                                sql += '\n<span class="sql-keywords">WHERE</span> condicion = <span class="sql-strings">\'valor\'</span>';
                                break;
                            case 'JOIN':
                                sql += '\n<span class="sql-keywords">JOIN</span> ' + (challenge.tables && challenge.tables[1] ? challenge.tables[1] : 'tabla2') + ' <span class="sql-keywords">ON</span> condicion';
                                break;
                            case 'ORDER BY':
                                sql += '\n<span class="sql-keywords">ORDER BY</span> columna';
                                break;
                            case 'GROUP BY':
                                sql += '\n<span class="sql-keywords">GROUP BY</span> columna';
                                break;
                            case 'HAVING':
                                sql += '\n<span class="sql-keywords">HAVING</span> <span class="sql-functions">COUNT</span>(*) > 1';
                                break;
                        }
                    });
                }

                const sqlOutput = document.getElementById('sqlOutput');
                sqlOutput.innerHTML = sql || '-- Tu consulta SQL aparecer√° aqu√≠ --\n-- Arrastra los bloques para construir tu consulta';
            }

            function validateQuery() {
                const currentQuery = gameState.constructedQuery.filter(block => block);
                const challenge = challenges[gameState.currentChallenge];

                if (currentQuery.length === 0) {
                    showFeedback('¬°Construye una consulta primero! Arrastra bloques desde abajo.', 'warning');
                    return;
                }

                // Check if query matches expected structure
                const isCorrect = arraysEqual(currentQuery, challenge.expected);
                
                if (isCorrect) {
                    const points = 100 * gameState.currentChallenge;
                    gameState.score += points;
                    gameState.completedChallenges.push(gameState.currentChallenge);
                    
                    showFeedback(`¬°Excelente! Consulta correcta. +${points} puntos`, 'success');
                    
                    // Auto advance to next challenge
                    if (gameState.currentChallenge < 5) {
                        setTimeout(() => {
                            gameState.level = Math.max(gameState.level, gameState.currentChallenge + 1);
                            setChallenge(gameState.currentChallenge + 1);
                            showFeedback('¬°Nivel completado! Siguiente desaf√≠o desbloqueado.', 'success');
                        }, 2000);
                    } else {
                        setTimeout(() => {
                            showFeedback('¬°Felicitaciones! Has completado todos los desaf√≠os. ¬°Eres un maestro de SQL!', 'success');
                        }, 2000);
                    }
                } else {
                    showFeedback(`Revisa el orden de los bloques. La consulta esperada es: ${challenge.expected.join(' ‚Üí ')}`, 'error');
                }

                updateDisplay();
            }

            function arraysEqual(a, b) {
                return a.length === b.length && a.every((val, i) => val === b[i]);
            }

            function showFeedback(message, type) {
                const feedback = document.getElementById('feedback');
                feedback.className = `feedback ${type}`;
                feedback.textContent = message;
                
                // Auto hide after 5 seconds
                setTimeout(() => {
                    if (feedback.textContent === message) {
                        feedback.innerHTML = '';
                    }
                }, 5000);
            }

            function clearQuery() {
                gameState.constructedQuery = [];
                updateConstructionArea();
                generateSQL();
                document.getElementById('feedback').innerHTML = '';
            }

            function setChallenge(challengeNumber) {
                if (challengeNumber <= gameState.level || challengeNumber === 1) {
                    gameState.currentChallenge = challengeNumber;
                    clearQuery();
                    updateCurrentHint();
                    
                    // Update challenge buttons
                    document.querySelectorAll('.challenge-btn').forEach((btn, index) => {
                        btn.classList.toggle('active', index + 1 === challengeNumber);
                        btn.disabled = index + 1 > gameState.level && index + 1 !== 1;
                        if (btn.disabled) {
                            btn.style.opacity = '0.5';
                            btn.style.cursor = 'not-allowed';
                        } else {
                            btn.style.opacity = '1';
                            btn.style.cursor = 'pointer';
                        }
                    });
                    
                    showFeedback(`Desaf√≠o ${challengeNumber}: ${challenges[challengeNumber].title}`, 'warning');
                } else {
                    showFeedback('¬°Completa los desaf√≠os anteriores primero!', 'error');
                }
            }

            function updateCurrentHint() {
                const challenge = challenges[gameState.currentChallenge];
                document.getElementById('currentHint').textContent = challenge.hint;
            }

            function showHint() {
                const challenge = challenges[gameState.currentChallenge];
                showFeedback(`üí° Pista: ${challenge.description}. Estructura: ${challenge.expected.join(' ‚Üí ')}`, 'warning');
            }

            function updateDisplay() {
                document.getElementById('score').textContent = gameState.score;
                document.getElementById('level').textContent = gameState.level;
                document.getElementById('progress').textContent = `${gameState.completedChallenges.length}/5`;
            }
        </script>
    </div>
</body>
</html>













    
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-3 mb-4">
                    <h5>SQL Master</h5>
                    <p>Plataforma interactiva para aprender bases de datos y SQL a trav√©s de juegos y desaf√≠os.</p>
                    <div class="mt-3">
                        <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="col-lg-3 mb-4">
                    <h5>Cursos</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white">SQL B√°sico</a></li>
                        <li><a href="#" class="text-white">SQL Avanzado</a></li>
                        <li><a href="#" class="text-white">MySQL</a></li>
                        <li><a href="#" class="text-white">PostgreSQL</a></li>
                        <li><a href="#" class="text-white">SQL Server</a></li>
                    </ul>
                </div>
                <div class="col-lg-3 mb-4">
                    <h5>Juegos</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white">SQL Battle Royale</a></li>
                        <li><a href="#" class="text-white">Query Runner</a></li>
                        <li><a href="#" class="text-white">Database Defender</a></li>
                        <li><a href="#" class="text-white">Schema Builder</a></li>
                        <li><a href="#" class="text-white">Optimization Challenge</a></li>
                    </ul>
                </div>
                <div class="col-lg-3 mb-4">
                    <h5>Contacto</h5>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-envelope me-2"></i> info@sqlmaster.com</li>
                        <li><i class="fas fa-phone me-2"></i> +1 234 567 890</li>
                        <li><i class="fas fa-map-marker-alt me-2"></i> 123 Calle SQL, Ciudad BD</li>
                    </ul>
                </div>
            </div>
            <hr class="mt-0 bg-light">
            <div class="row">
                <div class="col-md-6 text-center text-md-start">
                    <p class="mb-0">¬© 2025 SQL Master. Todos los derechos reservados.</p>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    <a href="#" class="text-white me-3">T√©rminos de servicio</a>
                    <a href="#" class="text-white me-3">Pol√≠tica de privacidad</a>
                    <a href="#" class="text-white">Mapa del sitio</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    <script>
        // Inicializar Swiper para el carrusel
        var swiper = new Swiper('.swiper-container', {
            loop: true,
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
        });
        
        // Cambiar clase del navbar al hacer scroll
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('navbar-scrolled');
            } else {
                navbar.classList.remove('navbar-scrolled');
            }
        });
    </script>
</body>
</html>